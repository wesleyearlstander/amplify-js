{"version":3,"file":"amplify.service.js","sourceRoot":"","sources":["../../../src/providers/amplify.service.ts"],"names":[],"mappings":";;;;;;;;;;;;;;AAeA,OAAO,EAAE,UAAU,EAAE,QAAQ,EAAE,MAAM,EAAE,MAAM,eAAe,CAAC;AAC7D,OAAO,EAAc,OAAO,EAAE,MAAM,MAAM,CAAC;AAC3C,OAAO,OAAO,EAAE,EAAE,MAAM,EAAE,IAAI,EAAE,MAAM,mBAAmB,CAAC;AAE1D,OAAO,EAAE,aAAa,EAAE,MAAM,kBAAkB,CAAC;AAEjD,OAAO,EAAE,SAAS,EAAE,MAAM,wBAAwB,CAAC;AAEnD,OAAO,EAAE,IAAI,EAAE,MAAM,mBAAmB,CAAC;AACzC,OAAO,EAAE,OAAO,EAAE,MAAM,sBAAsB,CAAC;AAC/C,OAAO,EAAE,GAAG,EAAE,MAAM,kBAAkB,CAAC;AACvC,OAAO,EAAE,MAAM,EAAE,MAAM,qBAAqB,CAAC;AAC7C,OAAO,EAAE,YAAY,EAAE,MAAM,2BAA2B,CAAC;AACzD,OAAO,EAAE,EAAE,EAAE,MAAM,iBAAiB,CAAC;;IAiBpC,wBAGS;;QAAA,YAAO,GAAP,OAAO;0BANK,IAAI,OAAO,EAAa;QAC7C,wBAAmB,IAAI,CAAC,UAAU,CAAC,YAAY,EAAE,CAAC;QAOjD,IAAM,MAAM,GAAG,OAAO,IAAI,OAAO,CAAC;QAElC,aAAa,CAAC,IAAI,CAAC,UAAU,EAAE,MAAM,CAAC,IAAI,CAAC,CAAC;QAE5C,IAAI,CAAC,KAAK,GAAG,MAAM,CAAC,IAAI,CAAC;QACzB,IAAI,CAAC,UAAU,GAAG,MAAM,CAAC,SAAS,CAAC;QACnC,IAAI,CAAC,QAAQ,GAAG,MAAM,CAAC,OAAO,CAAC;QAC/B,IAAI,CAAC,IAAI,GAAG,MAAM,CAAC,GAAG,CAAC;QACvB,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC,KAAK,CAAC;QAC3B,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC,MAAM,CAAC;QAC7B,IAAI,CAAC,aAAa,GAAG,MAAM,CAAC,YAAY,CAAC;QACzC,IAAI,CAAC,GAAG,GAAG,MAAM,CAAC,EAAE,CAAC;;QAGrB,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC;QAClB,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC;KACtB;IAED,6BAAI,GAAJ;QACC,OAAO,IAAI,CAAC,KAAK,IAAI,IAAI,CAAC;KAC1B;IACD,kCAAS,GAAT;QACC,OAAO,IAAI,CAAC,UAAU,IAAI,SAAS,CAAC;KACpC;IACD,gCAAO,GAAP;QACC,OAAO,IAAI,CAAC,QAAQ,IAAI,OAAO,CAAC;KAChC;IACD,4BAAG,GAAH;QACC,OAAO,IAAI,CAAC,IAAI,IAAI,GAAG,CAAC;KACxB;IACD,qCAAY,GAAZ;QACC,OAAO,IAAI,CAAC,aAAa,IAAI,YAAY,CAAC;KAC1C;IACD,8BAAK,GAAL;QACC,OAAO,IAAI,CAAC,MAAM,CAAC;KACnB;IACD,+BAAM,GAAN;QACC,OAAO,IAAI,CAAC,OAAO,IAAI,MAAM,CAAC;KAC9B;IACD,+BAAM,GAAN,UAAO,IAAI,EAAE,KAAM;QAClB,OAAO,IAAI,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;KACrC;IACD,2BAAE,GAAF;QACC,OAAO,IAAI,CAAC,GAAG,IAAI,EAAE,CAAC;KACtB;IACD,6BAAI,GAAJ;QACC,OAAO,IAAI,CAAC,KAAK,CAAC;KAClB;IAED,kCAAS,GAAT;QACC,OAAO,IAAI,CAAC,UAAU,CAAC;KACvB;IACD,qCAAY,GAAZ,UAAa,KAAgB;QAC5B,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;KAC5B;;gBA1ED,UAAU;;;;gDAgBR,MAAM,SAAC,SAAS,cAChB,QAAQ;;yBA/CX;;SA+Ba,cAAc","sourcesContent":["// tslint:disable\r\n/*\r\n * Copyright 2017-2018 Amazon.com, Inc. or its affiliates. All Rights Reserved.\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\r\n * the License. A copy of the License is located at\r\n *\r\n *     http://aws.amazon.com/apache2.0/\r\n *\r\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\r\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\r\n * and limitations under the License.\r\n */\r\n// tslint:enable\r\n\r\nimport { Injectable, Optional, Inject } from '@angular/core';\r\nimport { Observable, Subject } from 'rxjs';\r\nimport Amplify, { Logger, I18n } from '@aws-amplify/core';\r\nimport { AuthState } from './auth.state';\r\nimport { authDecorator } from './auth.decorator';\r\n\r\nimport { Analytics } from '@aws-amplify/analytics';\r\n\r\nimport { Auth } from '@aws-amplify/auth';\r\nimport { Storage } from '@aws-amplify/storage';\r\nimport { API } from '@aws-amplify/api';\r\nimport { PubSub } from '@aws-amplify/pubsub';\r\nimport { Interactions } from '@aws-amplify/interactions';\r\nimport { XR } from '@aws-amplify/xr';\r\n\r\n@Injectable()\r\nexport class AmplifyService {\r\n\tprivate _auth: any;\r\n\tprivate _analytics: any;\r\n\tprivate _storage: any;\r\n\tprivate _api: any;\r\n\tprivate _cache: any;\r\n\tprivate _pubsub: any;\r\n\tprivate _interactions: any;\r\n\tprivate _logger: any;\r\n\tprivate _xr: any;\r\n\tprivate _i18n: any;\r\n\tprivate _authState = new Subject<AuthState>();\r\n\tauthStateChange$ = this._authState.asObservable();\r\n\r\n\tconstructor(\r\n\t\t@Inject('modules')\r\n\t\t@Optional()\r\n\t\tprivate modules: any = {}\r\n\t) {\r\n\t\tconst source = modules || Amplify;\r\n\r\n\t\tauthDecorator(this._authState, source.Auth);\r\n\r\n\t\tthis._auth = source.Auth;\r\n\t\tthis._analytics = source.Analytics;\r\n\t\tthis._storage = source.Storage;\r\n\t\tthis._api = source.API;\r\n\t\tthis._cache = source.Cache;\r\n\t\tthis._pubsub = source.PubSub;\r\n\t\tthis._interactions = source.Interactions;\r\n\t\tthis._xr = source.XR;\r\n\r\n\t\t// i18n and logger instantiated by default (do not change)\r\n\t\tthis._i18n = I18n;\r\n\t\tthis._logger = Logger;\r\n\t}\r\n\r\n\tauth(): any {\r\n\t\treturn this._auth || Auth;\r\n\t}\r\n\tanalytics(): any {\r\n\t\treturn this._analytics || Analytics;\r\n\t}\r\n\tstorage(): any {\r\n\t\treturn this._storage || Storage;\r\n\t}\r\n\tapi(): any {\r\n\t\treturn this._api || API;\r\n\t}\r\n\tinteractions(): any {\r\n\t\treturn this._interactions || Interactions;\r\n\t}\r\n\tcache(): any {\r\n\t\treturn this._cache;\r\n\t}\r\n\tpubsub(): any {\r\n\t\treturn this._pubsub || PubSub;\r\n\t}\r\n\tlogger(name, level?): Logger {\r\n\t\treturn new this._logger(name, level);\r\n\t}\r\n\txr(): any {\r\n\t\treturn this._xr || XR;\r\n\t}\r\n\ti18n(): any {\r\n\t\treturn this._i18n;\r\n\t}\r\n\r\n\tauthState() {\r\n\t\treturn this._authState;\r\n\t}\r\n\tsetAuthState(state: AuthState) {\r\n\t\tthis._authState.next(state);\r\n\t}\r\n}\r\n"]}