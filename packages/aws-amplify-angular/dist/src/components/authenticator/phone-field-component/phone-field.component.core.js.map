{"version":3,"file":"phone-field.component.core.js","sourceRoot":"","sources":["../../../../../src/components/authenticator/phone-field-component/phone-field.component.core.ts"],"names":[],"mappings":";;;;;;;;;;;;;;AAeA,OAAO,EACN,SAAS,EACT,KAAK,EAEL,YAAY,EACZ,MAAM,EACN,MAAM,GACN,MAAM,eAAe,CAAC;AACvB,OAAO,EAAE,cAAc,EAAE,MAAM,oCAAoC,CAAC;AAEpE,OAAO,EAAE,WAAW,EAAW,MAAM,2BAA2B,CAAC;AACjE,OAAO,EAAE,IAAI,EAAE,MAAM,sCAAsC,CAAC;AAE5D,IAAM,QAAQ,GAAG,mjBAcQ,IAAI,CAAC,YAAY,CAAC,cAAc,soBAgB5B,IAAI,CAAC,YAAY,CAAC,gBAAgB,6DAK9D,CAAC;;IAcD,iCAA2C;QAAA,mBAAc,GAAd,cAAc;4BAPlC,EAAE;sBACR,cAAc;yBACV,IAAI;6BACD,GAAG;mCACG,EAAE;iCAqCoB,IAAI,YAAY,EAEjE;QAnCF,IAAI,CAAC,UAAU,GAAG,WAAW,CAAC;KAC9B;0BAGG,yCAAI;uBAAC,IAAS;YACjB,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,WAAW,IAAI,IAAI,CAAC,YAAY,CAAC;YAC1D,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,KAAK,IAAI,IAAI,CAAC,MAAM,CAAC;YACxC,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,kBAAkB,IAAI,IAAI,CAAC,aAAa,CAAC;YACnE,IAAI,CAAC,SAAS;gBACb,IAAI,CAAC,QAAQ,KAAK,SAAS,CAAC,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC;;;;;0BAI3D,gDAAW;uBAAC,WAAmB;YAClC,IAAI,CAAC,YAAY,GAAG,WAAW,CAAC;;;;;0BAI7B,0CAAK;uBAAC,KAAa;YACtB,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;;;;;0BAIjB,6CAAQ;uBAAC,QAAiB;YAC7B,IAAI,CAAC,SAAS,GAAG,QAAQ,CAAC;;;;;0BAIvB,uDAAkB;uBAAC,kBAA0B;YAChD,IAAI,CAAC,aAAa,GAAG,kBAAkB,CAAC;;;;;IAQzC,0CAAQ,GAAR,eAAa;IAEb,6CAAW,GAAX,eAAgB;IAEhB,gDAAc,GAAd,UAAe,YAAoB;QAClC,IAAI,CAAC,aAAa,GAAG,YAAY,CAAC;QAClC,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC;YAC3B,YAAY,EAAE,IAAI,CAAC,aAAa;YAChC,kBAAkB,EAAE,IAAI,CAAC,mBAAmB;SAC5C,CAAC,CAAC;KACH;IAED,qDAAmB,GAAnB,UAAoB,kBAA0B;QAC7C,IAAI,CAAC,mBAAmB,GAAG,kBAAkB,CAAC;QAC9C,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC;YAC3B,YAAY,EAAE,IAAI,CAAC,aAAa;YAChC,kBAAkB,EAAE,IAAI,CAAC,mBAAmB;SAC5C,CAAC,CAAC;KACH;IAED,gDAAc,GAAd;QACC,OAAO,IAAI,CAAC,cAAc;aACxB,IAAI,EAAE;aACN,GAAG,CAAC,yBAAyB,IAAI,IAAI,CAAC,YAAY,CAAC,CAAC;KACtD;;gBA1ED,SAAS,SAAC;oBACV,QAAQ,EAAE,+BAA+B;oBACzC,QAAQ,UAAA;iBACR;;;;gBA7CQ,cAAc,uBAsDT,MAAM,SAAC,cAAc;;;yBAIjC,KAAK;gCASL,KAAK;0BAKL,KAAK;6BAKL,KAAK;uCAKL,KAAK;sCAKL,MAAM;;kCA9GR;;SAqEa,uBAAuB","sourcesContent":["// tslint:disable\r\n/*\r\n * Copyright 2017-2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\r\n * the License. A copy of the License is located at\r\n *\r\n *     http://aws.amazon.com/apache2.0/\r\n *\r\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\r\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\r\n * and limitations under the License.\r\n */\r\n// tslint:enable\r\n\r\nimport {\r\n\tComponent,\r\n\tInput,\r\n\tOnInit,\r\n\tEventEmitter,\r\n\tInject,\r\n\tOutput,\r\n} from '@angular/core';\r\nimport { AmplifyService } from '../../../providers/amplify.service';\r\nimport { PhoneFieldOutput } from '../types';\r\nimport { countrylist, country } from '../../../assets/countries';\r\nimport { auth } from '../../../assets/data-test-attributes';\r\n\r\nconst template = `\r\n<div>\r\n    <label class=\"amplify-input-label\" for=\"localPhoneNumberField\">\r\n        {{ this.amplifyService.i18n().get(this._label) }}\r\n        <span *ngIf=\"_required\">*</span>\r\n    </label>\r\n    <div class=\"amplify-input-group\">\r\n        <div class=\"amplify-input-group-item\">\r\n            <select \r\n            #countryCodeField\r\n            name=\"countryCode\"\r\n            class=\"amplify-select-phone-country\"\r\n            [(ngModel)]=\"_country_code\"\r\n            (change)=\"setCountryCode($event.target.value)\"\r\n            data-test=\"${auth.genericAttrs.dialCodeSelect}\"\r\n            >\r\n            <option *ngFor=\"let country of _countries\"\r\n                value={{country.value}}>\r\n                {{country.label}}\r\n            </option>\r\n            </select>\r\n        </div>\r\n        <div class=\"amplify-input-group-item\">\r\n            <input\r\n                #localPhoneNumberField\r\n                class=\"amplify-form-input\"\r\n                placeholder=\"{{ this.amplifyService.i18n().get(this.getPlaceholder()) }}\"\r\n                name=\"local_phone_number\"\r\n                type=\"tel\"\r\n                (keyup)=\"setLocalPhoneNumber($event.target.value)\"\r\n                data-test=\"${auth.genericAttrs.phoneNumberInput}\"\r\n            />\r\n        </div>\r\n    </div>\r\n</div>\r\n`;\r\n\r\n@Component({\r\n\tselector: 'amplify-auth-phone-field-core',\r\n\ttemplate,\r\n})\r\nexport class PhoneFieldComponentCore implements OnInit {\r\n\t_placeholder: string = '';\r\n\t_label: string = 'Phone Number';\r\n\t_required: boolean = true;\r\n\t_country_code: string = '1';\r\n\t_local_phone_number: string = '';\r\n\t_countries: country[];\r\n\r\n\tconstructor(@Inject(AmplifyService) public amplifyService: AmplifyService) {\r\n\t\tthis._countries = countrylist;\r\n\t}\r\n\r\n\t@Input()\r\n\tset data(data: any) {\r\n\t\tthis._placeholder = data.placeholder || this._placeholder;\r\n\t\tthis._label = data.label || this._label;\r\n\t\tthis._country_code = data.defaultCountryCode || this._country_code;\r\n\t\tthis._required =\r\n\t\t\tdata.required === undefined ? this._required : data.required;\r\n\t}\r\n\r\n\t@Input()\r\n\tset placeholder(placeholder: string) {\r\n\t\tthis._placeholder = placeholder;\r\n\t}\r\n\r\n\t@Input()\r\n\tset label(label: string) {\r\n\t\tthis._label = label;\r\n\t}\r\n\r\n\t@Input()\r\n\tset required(required: boolean) {\r\n\t\tthis._required = required;\r\n\t}\r\n\r\n\t@Input()\r\n\tset defaultCountryCode(defaultCountryCode: string) {\r\n\t\tthis._country_code = defaultCountryCode;\r\n\t}\r\n\r\n\t@Output()\r\n\tphoneFieldChanged: EventEmitter<PhoneFieldOutput> = new EventEmitter<\r\n\t\tPhoneFieldOutput\r\n\t>();\r\n\r\n\tngOnInit() {}\r\n\r\n\tngOnDestroy() {}\r\n\r\n\tsetCountryCode(country_code: string) {\r\n\t\tthis._country_code = country_code;\r\n\t\tthis.phoneFieldChanged.emit({\r\n\t\t\tcountry_code: this._country_code,\r\n\t\t\tlocal_phone_number: this._local_phone_number,\r\n\t\t});\r\n\t}\r\n\r\n\tsetLocalPhoneNumber(local_phone_number: string) {\r\n\t\tthis._local_phone_number = local_phone_number;\r\n\t\tthis.phoneFieldChanged.emit({\r\n\t\t\tcountry_code: this._country_code,\r\n\t\t\tlocal_phone_number: this._local_phone_number,\r\n\t\t});\r\n\t}\r\n\r\n\tgetPlaceholder() {\r\n\t\treturn this.amplifyService\r\n\t\t\t.i18n()\r\n\t\t\t.get(`Enter your phone number` || this._placeholder);\r\n\t}\r\n}\r\n"]}